<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ChatHistoryState">
    <option name="serializedSessions">
      <map>
        <entry key="5b824701-76f0-4d02-89c0-c054662d9f0c" value="{&quot;id&quot;:&quot;5b824701-76f0-4d02-89c0-c054662d9f0c&quot;,&quot;name&quot;:&quot;Fix RuntimeException in Compose Test&quot;,&quot;timestamp&quot;:1754486680558,&quot;messages&quot;:[{&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;\n\u003cadditional_data\u003e\nBelow are some potentially helpful/relevant pieces of information for figuring out to respond\n\u003ccurrent_file\u003e\n```kotlin:common/designsystem/src/androidTest/java/com/instantsystem/newsly/designsystem/LoadingIndicatorTest.kt, lines\u003dALL(1-39)\npackage com.instantsystem.newsly.designsystem\n\nimport androidx.activity.ComponentActivity\nimport androidx.compose.foundation.layout.size\nimport androidx.compose.material3.CircularProgressIndicator\nimport androidx.compose.material3.MaterialTheme\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.graphics.Color\nimport androidx.compose.ui.test.assertIsDisplayed\nimport androidx.compose.ui.test.junit4.createAndroidComposeRule\nimport androidx.compose.ui.test.junit4.createComposeRule\nimport androidx.compose.ui.test.onNodeWithTag\nimport androidx.compose.ui.test.onNodeWithContentDescription\nimport androidx.compose.ui.test.onRoot\nimport androidx.compose.ui.unit.dp\nimport com.instantsystem.newsly.designsystem.components.LoadingIndicator\nimport com.instantsystem.newsly.designsystem.theme.NewslyTheme\nimport org.junit.Assert.assertEquals\nimport org.junit.Rule\nimport org.junit.Test\n\nclass LoadingIndicatorTest {\n\n\n    @get:Rule\n    val composeTestRule \u003d createComposeRule()\n\n    @Test\n    fun loadingIndicator_isDisplayed() {\n        composeTestRule.setContent {\n            LoadingIndicator()\n        }\n\n        // Vérifie que le CircularProgressIndicator est présent\n        composeTestRule\n            .onNodeWithTag(\&quot;loading_indicator\&quot;)\n            .assertIsDisplayed()\n    }\n}\n```\n\u003c/current_file\u003e\n\u003c/additional_data\u003e\n\u003cuser_query\u003e\nMy code gets an exception\n```\njava.lang.RuntimeException: Unable to resolve activity for: Intent { act\u003dandroid.intent.action.MAIN cat\u003d[android.intent.category.LAUNCHER] cmp\u003dcom.instantsystem.newsly.common.designsystem.test/androidx.activity.ComponentActivity }\nat androidx.test.core.app.InstrumentationActivityInvoker.startActivity(InstrumentationActivityInvoker.java:405)\nat androidx.test.core.app.InstrumentationActivityInvoker.startActivity(InstrumentationActivityInvoker.java:428)\nat androidx.test.core.app.ActivityScenario.launchInternal(ActivityScenario.java:367)\nat androidx.test.core.app.ActivityScenario.launch(ActivityScenario.java:203)\nat androidx.test.ext.junit.rules.ActivityScenarioRule.lambda$new$0(ActivityScenarioRule.java:77)\nat androidx.test.ext.junit.rules.ActivityScenarioRule$$ExternalSyntheticLambda2.get(D8$$SyntheticClass:0)\nat androidx.test.ext.junit.rules.ActivityScenarioRule.before(ActivityScenarioRule.java:112)\nat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:50)\nat androidx.compose.ui.test.junit4.AndroidComposeTestRule$apply$1$evaluate$1.invoke(AndroidComposeTestRule.android.kt:295)\nat androidx.compose.ui.test.junit4.AndroidComposeTestRule$apply$1$evaluate$1.invoke(AndroidComposeTestRule.android.kt:295)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment$AndroidComposeUiTestImpl.withDisposableContent(ComposeUiTest.android.kt:565)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment$runTest$1$1$1$1$1$1.invoke(ComposeUiTest.android.kt:370)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment.withComposeIdlingResource(ComposeUiTest.android.kt:439)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment.access$withComposeIdlingResource(ComposeUiTest.android.kt:235)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment$runTest$1$1$1$1$1.invoke(ComposeUiTest.android.kt:369)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment.withWindowRecomposer(ComposeUiTest.android.kt:413)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment.access$withWindowRecomposer(ComposeUiTest.android.kt:235)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment$runTest$1$1$1$1.invoke(ComposeUiTest.android.kt:368)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment.withTestCoroutines(ComposeUiTest.android.kt:426)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment.access$withTestCoroutines(ComposeUiTest.android.kt:235)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment$runTest$1$1$1.invoke(ComposeUiTest.android.kt:367)\nat androidx.compose.ui.test.EspressoLink.withStrategy(EspressoLink.android.kt:69)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment$runTest$1$1.invoke(ComposeUiTest.android.kt:366)\nat androidx.compose.ui.test.IdlingResourceRegistry.withRegistry(IdlingResourceRegistry.jvm.kt:148)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment$runTest$1.invoke(ComposeUiTest.android.kt:365)\nat androidx.compose.ui.test.ComposeRootRegistry.withRegistry(ComposeRootRegistry.android.kt:139)\nat androidx.compose.ui.test.AndroidComposeUiTestEnvironment.runTest(ComposeUiTest.android.kt:364)\nat androidx.compose.ui.test.junit4.AndroidComposeTestRule$apply$1.evaluate(AndroidComposeTestRule.android.kt:295)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.junit.runners.Suite.runChild(Suite.java:128)\nat org.junit.runners.Suite.runChild(Suite.java:27)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n```\nHow can I resolve this? If you propose a fix, please make it concise.\n\u003c/user_query\u003e&quot;}]},{&quot;role&quot;:&quot;assistant&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;You are seeing this exception because instrumented tests (`androidTest`) require a valid Android `Activity` to launch. Your test is using the standard `createComposeRule()`, which is for JVM tests—not instrumented tests that run on Android devices or emulators.\n\n**Fix:**  \nIn your `LoadingIndicatorTest.kt`, replace\n```kotlin\nval composeTestRule \u003d createComposeRule()\n```\nwith\n```kotlin\nval composeTestRule \u003d createAndroidComposeRule\u003cComponentActivity\u003e()\n```\n\n**Why?**  \n- `createAndroidComposeRule\u003cComponentActivity\u003e()` tells the test runner to use a real Android activity (`ComponentActivity`) as the host, which resolves the intent exception.\n- `createComposeRule()` is only for pure JVM (unit) Compose tests, not for instrumented tests.\n\n**Concise edit:**\nChange your rule initialization:\n```kotlin\n@get:Rule\nval composeTestRule \u003d createAndroidComposeRule\u003cComponentActivity\u003e()\n```&quot;}]}]}" />
      </map>
    </option>
  </component>
</project>